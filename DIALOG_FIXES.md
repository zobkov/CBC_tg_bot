# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –¥–∏–∞–ª–æ–≥–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤

## üéØ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**

### 1. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤**
**–ë—ã–ª–æ:** `Unknown_UU_zobko_20250808_113916.pdf`  
**–°—Ç–∞–ª–æ:** `–ò–≤–∞–Ω–æ–≤_–ò–ò_username_timestamp.pdf` (—Å –æ—Ç—á–µ—Å—Ç–≤–æ–º) –∏–ª–∏ `–ò–≤–∞–Ω–æ–≤_–ò_username_timestamp.pdf` (–±–µ–∑ –æ—Ç—á–µ—Å—Ç–≤–∞)

**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è `on_full_name_input` –Ω–µ —Ä–∞–∑–±–∏–≤–∞–ª–∞ –§–ò–û –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –§—É–Ω–∫—Ü–∏—è on_full_name_input —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –§–ò–û
def on_full_name_input(message: Message, widget, dialog_manager: DialogManager, **kwargs):
    full_name = message.text.strip()
    name_parts = full_name.split()
    
    # –ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å - —Ñ–∞–º–∏–ª–∏—è
    if len(name_parts) >= 1:
        dialog_manager.dialog_data["surname"] = name_parts[0]
    
    # –í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å - –∏–º—è  
    if len(name_parts) >= 2:
        dialog_manager.dialog_data["name"] = name_parts[1]
    
    # –¢—Ä–µ—Ç—å—è —á–∞—Å—Ç—å - –æ—Ç—á–µ—Å—Ç–≤–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ)
    if len(name_parts) >= 3:
        dialog_manager.dialog_data["patronymic"] = name_parts[2]
    else:
        dialog_manager.dialog_data["patronymic"] = ""  # –ú–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
```

### 2. ‚ùå **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–∫–Ω—É**
**–ë—ã–ª–æ:** –°–æ–æ–±—â–µ–Ω–∏–µ "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ" –Ω–æ –∫–Ω–æ–ø–∫–∏ –Ω–µ—Ç, –∏ —Å—Ä–∞–∑—É –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Ñ–∞–π–ª–∞  
**–°—Ç–∞–ª–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É –¥–∏–∞–ª–æ–≥–∞

**–†–µ—à–µ–Ω–∏–µ:**
```python
await message.answer(message_text)

# –í–ê–ñ–ù–û: –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–∫–Ω—É –¥–∏–∞–ª–æ–≥–∞
logger.info(f"‚û°Ô∏è –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–∫–Ω—É –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user.id}")
await dialog_manager.next()
```

### 3. ‚úÖ **Google Drive —Å–¥–µ–ª–∞–Ω –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º**
**–ë—ã–ª–æ:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Drive  
**–°—Ç–∞–ª–æ:** –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## ÔøΩ **–õ–æ–≥–∏–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤**

### –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏:
`{–§–∞–º–∏–ª–∏—è}_{–ò–Ω–∏—Ü–∏–∞–ª—ã}_{username}_{timestamp}.{—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ}`

### –ü—Ä–∏–º–µ—Ä—ã:
- **–° –æ—Ç—á–µ—Å—Ç–≤–æ–º:** `–ò–≤–∞–Ω–æ–≤_–ò–ò_zobko_20250808_115000.pdf`  
  (–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á)
- **–ë–µ–∑ –æ—Ç—á–µ—Å—Ç–≤–∞:** `–ü–µ—Ç—Ä–æ–≤_–ü_zobko_20250808_115000.pdf`  
  (–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä)
- **–ï—Å–ª–∏ –§–ò–û –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å:** `User_U_zobko_20250808_115000.pdf`

### –ê–ª–≥–æ—Ä–∏—Ç–º:
1. –†–∞–∑–±–∏–≤–∞–µ–º –§–ò–û –ø–æ –ø—Ä–æ–±–µ–ª–∞–º: `["–ò–≤–∞–Ω–æ–≤", "–ò–≤–∞–Ω", "–ò–≤–∞–Ω–æ–≤–∏—á"]`
2. –§–∞–º–∏–ª–∏—è = –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç: `"–ò–≤–∞–Ω–æ–≤"`
3. –ò–º—è = –≤—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç: `"–ò–≤–∞–Ω"` ‚Üí –∏–Ω–∏—Ü–∏–∞–ª `"–ò"`
4. –û—Ç—á–µ—Å—Ç–≤–æ = —Ç—Ä–µ—Ç–∏–π —ç–ª–µ–º–µ–Ω—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å): `"–ò–≤–∞–Ω–æ–≤–∏—á"` ‚Üí –∏–Ω–∏—Ü–∏–∞–ª `"–ò"`
5. –ï—Å–ª–∏ –æ—Ç—á–µ—Å—Ç–≤–∞ –Ω–µ—Ç: –∏–Ω–∏—Ü–∏–∞–ª—ã = —Ç–æ–ª—å–∫–æ –∏–Ω–∏—Ü–∏–∞–ª –∏–º–µ–Ω–∏ `"–ò"`
6. –ï—Å–ª–∏ –æ—Ç—á–µ—Å—Ç–≤–æ –µ—Å—Ç—å: –∏–Ω–∏—Ü–∏–∞–ª—ã = `"–ò–ò"`

```python
# –ö–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤
if patronymic and patronymic.strip() != "":
    patronymic_initial = patronymic[0].upper()
    initials = f"{name_initial}{patronymic_initial}"  # –ò–ò
else:
    initials = name_initial  # –ò
```

### GoogleConfig
```python
@dataclass
class GoogleConfig:
    credentials_path: str
    spreadsheet_id: str
    drive_folder_id: Optional[str] = None  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
    spreadsheet_name: str = "–ó–∞—è–≤–∫–∏ –ö–ë–ö26"
    drive_folder_name: str = "–†–µ–∑—é–º–µ_–ö–ë–ö26"
    enable_drive: bool = False  # –ù–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Drive
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# Google Services Settings
GOOGLE_CREDENTIALS_PATH=config/google_credentials.json
GOOGLE_SPREADSHEET_ID=your_spreadsheet_id_here
GOOGLE_DRIVE_FOLDER_ID=your_drive_folder_id_here

# Google Drive Settings (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
GOOGLE_ENABLE_DRIVE=false  # false = —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ, true = –ª–æ–∫–∞–ª—å–Ω–æ + Drive
```

## üìä **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã**

### –ö–æ–≥–¥–∞ Google Drive –æ—Ç–∫–ª—é—á–µ–Ω (`GOOGLE_ENABLE_DRIVE=false`):
1. ‚úÖ –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `app/storage/resumes/`
2. ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Google Sheets
3. ‚úÖ CSV —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è
4. ‚ùå –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Google Drive –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è

### –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
```
‚úÖ –†–µ–∑—é–º–µ –ø–æ–ª—É—á–µ–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∫–∞–∫: –ò–≤–∞–Ω–æ–≤_–ò–ü_username_20250808_114500.pdf
üìã –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ (Google Drive –æ—Ç–∫–ª—é—á–µ–Ω)
–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É.
```

### –ö–æ–≥–¥–∞ Google Drive –≤–∫–ª—é—á–µ–Ω (`GOOGLE_ENABLE_DRIVE=true`):
1. ‚úÖ –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
2. ‚úÖ –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Google Drive
3. ‚úÖ URL —Ñ–∞–π–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
4. ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Google Sheets

## üîç **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

### –ù–æ–≤—ã–µ –ª–æ–≥–∏:
```python
logger.info(f"üë§ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞:")
logger.info(f"   - –§–∞–º–∏–ª–∏—è: {surname}")
logger.info(f"   - –ò–º—è: {name}")
logger.info(f"   - –û—Ç—á–µ—Å—Ç–≤–æ: {patronymic}")
logger.info(f"üìù –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏–º—è —Ñ–∞–π–ª–∞: {new_filename}")
logger.info(f"‚û°Ô∏è –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–∫–Ω—É –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user.id}")
```

### Google Drive —Å—Ç–∞—Ç—É—Å –≤ –ª–æ–≥–∞—Ö:
```
Google Drive settings: drive_folder_id=None, enable_drive=False
Google Drive –æ—Ç–∫–ª—é—á–µ–Ω
‚ÑπÔ∏è Google Drive –æ—Ç–∫–ª—é—á–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥**

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):
```bash
GOOGLE_ENABLE_DRIVE=false
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Å Google Drive:
```bash
GOOGLE_ENABLE_DRIVE=true
GOOGLE_DRIVE_FOLDER_ID=actual_folder_id
```

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —Å Google Drive –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–º:**
   - ‚úÖ –§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º
   - ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ: "Google Drive –æ—Ç–∫–ª—é—á–µ–Ω"

2. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤:**
   - ‚úÖ –§–æ—Ä–º–∞—Ç: `–§–∞–º–∏–ª–∏—è_–ò–û_username_timestamp.ext`
   - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π

3. **–õ–æ–≥–∏–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤:**
   - ‚úÖ –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Ñ–∞–π–ª–∞
   - ‚úÖ –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏
   - ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤

## üìã **–†–µ–∑—É–ª—å—Ç–∞—Ç**

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤** - —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏
- ‚úÖ **Google Drive –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** - –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ **Google Sheets —Ä–∞–±–æ—Ç–∞–µ—Ç** - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é**  
**–î–∞—Ç–∞:** 08.08.2025  
**–í–µ—Ä—Å–∏—è:** 2.2.0
